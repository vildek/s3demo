{"status":{},"contains_secrets":false,"product_version":"3.0.0.0","spec":{"description":"","resources":{"client_attrs":{"None":{"y":-20.5,"x":267},"s3app_deployment":{"y":-23.6257325321,"x":390.1395848951}},"service_definition_list":[{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"s3demoapp_svc"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"037fb23b_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"24c47329_runbook","main_task_local_reference":{"kind":"app_task","name":"037fb23b_dag"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"s3demoapp_svc"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"690d4219_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"f32adc71_runbook","main_task_local_reference":{"kind":"app_task","name":"690d4219_dag"},"variable_list":[]},"name":"action_delete"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"s3demoapp_svc"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"8df6b0e5_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"d0b04cea_runbook","main_task_local_reference":{"kind":"app_task","name":"8df6b0e5_dag"},"variable_list":[]},"name":"action_restart"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"s3demoapp_svc"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"ffdc4647_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"bab6e671_runbook","main_task_local_reference":{"kind":"app_task","name":"ffdc4647_dag"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"s3demoapp_svc"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"4f247761_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"63b74e8d_runbook","main_task_local_reference":{"kind":"app_task","name":"4f247761_dag"},"variable_list":[]},"name":"action_stop"}],"depends_on_list":[],"name":"s3demoapp_svc","port_list":[],"editables":{"container_spec":{"name":true}},"tier":"","container_spec":{"ports":[{"protocol":"TCP","containerPort":3000,"name":"s3-http"}],"name":"s3demoapp"},"variable_list":[],"description":""}],"substrate_definition_list":[{"description":"","action_list":[],"type":"K8S_POD","name":"S3APPLICATION","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"","delay_secs":"60","disable_readiness_probe":false},"os_type":"Linux","create_spec":{"metadata":{"labels":{"tier":"frontend","app":"s3app","provisioner":"calm"},"namespace":"default","name":"S3APPLICATION"},"type":"PROVISION_K8S_POD","spec":{"dnsPolicy":"Default","imagePullSecrets":[{"name":"regpass"}]},"account_uuid":"55306522-e045-b91e-6b36-3b120c39554d"},"variable_list":[]}],"credential_definition_list":[],"package_definition_list":[{"image_spec":{"image":"reg.demobox.lv:5000\/s3demo:1.0.1","imagePullPolicy":"Always"},"description":"","action_list":[],"type":"K8S_IMAGE","service_local_reference_list":[{"kind":"app_service","name":"s3demoapp_svc"}],"name":"Package1","version":"","variable_list":[]}],"app_profile_list":[{"deployment_create_list":[{"type":"K8S_DEPLOYMENT","action_list":[],"name":"s3app_deployment","min_replicas":"1","default_replicas":"1","depends_on_list":[],"editables":{"options":{"spec":{"replicas":true}}},"published_service_local_reference_list":[{"kind":"app_published_service","name":"WordpressK8sPublishedService"}],"max_replicas":"100","package_local_reference_list":[{"kind":"app_package","name":"Package1"}],"substrate_local_reference":{"kind":"app_substrate","name":"S3APPLICATION"},"options":{"type":"PROVISION_K8S_DEPLOYMENT","spec":{"selector":{"matchLabels":{"tier":"frontend","app":"s3app"}},"replicas":"1","strategy":{"type":"Recreate"}},"metadata":{"labels":{"app":"s3app","provisioner":"calm"},"namespace":"default","name":"s3appdeploy"}},"variable_list":[],"description":""}],"description":"","action_list":[{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Remove Replica"}],"name":"73af08c3_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"s3app_deployment"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Remove Replica","attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[]}],"description":"","name":"aa392a46_runbook","main_task_local_reference":{"kind":"app_task","name":"73af08c3_dag"},"variable_list":[]},"name":"Scale In"},{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Add Replica"}],"name":"96f1530d_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"s3app_deployment"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Add Replica","attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[]}],"description":"","name":"c7d47b65_runbook","main_task_local_reference":{"kind":"app_task","name":"96f1530d_dag"},"variable_list":[]},"name":"Scale Out"}],"name":"Karbon","variable_list":[]}],"published_service_definition_list":[{"singleton":true,"action_list":[],"type":"K8S_SERVICE","depends_on_list":[],"name":"WordpressK8sPublishedService","port_list":[],"tier":"","options":{"type":"PROVISION_K8S_SERVICE","spec":{"type":"LoadBalancer","ports":[{"protocol":"TCP","targetPort":3000,"port":80,"name":"s3-http"}],"selector":{"tier":"frontend","app":"s3app"}},"metadata":{"labels":{"app":"s3app","provisioner":"calm"},"namespace":"default","name":"s3appsvc","annotations":{"service.citrix.com\/ipam-range":"Test"}}},"variable_list":[],"description":""}],"type":"USER"},"name":"S3Application"},"api_version":"3.0","metadata":{"last_update_time":"1597401774379383","kind":"blueprint","spec_version":4,"creation_time":"1596554648503700","name":"S3Application"}}